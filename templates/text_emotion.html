<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text Emotion - Analysis</title>
  
  <!-- Link to the new external stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='text_emotion_style.css') }}">
  
  <!-- Chart.js library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <div class="container">
    <header class="main-header">
      <h1>Text Emotion - Analysis</h1>
      <p>Enter text below to see a breakdown of its emotional sentiment from two different models.</p>
      <p>This tool is based on <strong>circumplex model</strong>, To see what that exactly is : <a href="/circumplex_model">click here</a></p>
    </header>

    <div class="card">
      <textarea id="text-input" placeholder="I am so happy today!"></textarea>
      <button id="analyze-btn">Analyze Text</button>
    </div>

    <div id="charts-container" class="results-grid" style="display: none;">
      <div class="card chart-wrapper">
        <h3>Model 1 Results</h3>
        <div id="model1-scores" class="emotion-scores"></div>
        <canvas id="emotion-chart-1"></canvas>
      </div>
      <div class="card chart-wrapper">
        <h3>Model 2 Results</h3>
        <div id="model2-scores" class="emotion-scores"></div>
        <canvas id="emotion-chart-2"></canvas>
      </div>
      <!-- New Third Column for Instructions -->
      <div class="card chart-wrapper">
        <h3>Instructions</h3>
        <div class="emotion-scores">
            <p><strong>How to use this tool:</strong></p>
            <ol style="padding-left: 20px; text-align: left;">
                <li style="margin-bottom: 10px;">Review the emotion analysis from both models shown in the charts.</li>
                <li style="margin-bottom: 0px;">In the section below the charts, select the model that you feel is more accurate.</li>
                <li style="margin-bottom: 10px;">Adjust the gauges for the top two emotions to reflect your level of confidence.</li>
                <li>Submit your feedback.</li>
            </ol>
        </div>
      </div>
    </div>

    <div id="feedback-section" class="card" style="display: none;">
      <h3 id="question">Which model best matched your feelings?</h3>
      <div class="radio-group">
        <label><input type="radio" name="model-choice" value="1"> Model 1</label>
        <label><input type="radio" name="model-choice" value="2"> Model 2</label>
      </div>
      <button id="submit-choice-btn">Submit Model Choice</button>
      <p id="selected-model" class="success-message" style="display: none;"></p>
      <!-- This button is now hidden and triggered automatically by the JS -->
      <button id="show-gauges-btn" style="display: none;">Show Surity Gauges</button>
    </div>

    <div id="top-emotions" class="gauges-container"></div>
    <button id="submit-surity-btn" style="display: none;">Submit Your Surity</button>
    
    <p id="thank-you-msg" class="success-message" style="display: none;">Your response has been recorded... Thank You! :)</p>
  </div>

  <!-- Your JavaScript file (assuming it's in the same folder or served via Flask) -->
  <!-- <script type="module" src="text_emotion.js"></script> -->
  <script type="module" src="{{ url_for('static', filename='text_emotion.js') }}"></script>
</body>
</html>

